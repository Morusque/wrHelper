<?php
	
	// load xml
	
	$words = // explode words
	
	$maxArrayLength = 2;

	// make an inverted array of id per words
	
	for	(/* each word in material */) {
		for	(/* each word in dico array */) {
			if (/* found */) // add one occurence
		}
		if (/* not found */) {
			// add another index
		}
	}
	
	// add the new id to the xml object
	// and update the occurences numbers
	
	for	(/* each word */) {
		for (/* each possible lengths */) {
			if (/* enough room before the word */) {
				for (/* each existing structure */) {
					if (/* structure found */) {
						for (/* each follower */) {
							if (/* follower found */) {
								// add one occurence
							}
							if (/* follower not found */) {
								// add this follower
							}
						}
					}
				}
				if (/* structure not found */) {
					// add this structure with this occurence
				}
			}
		}
	}
	
	// save xml
	
?>